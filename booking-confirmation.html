<!DOCTYPE html>
<html lang="en">
<head>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Message Sent / Booking Confirmed - PRATA</title> <!-- Adjust Title per page -->
        <link rel="stylesheet" href="globals.css"> <!-- If you have this -->
        <link rel="stylesheet" href="css/common.css">
        <link rel="stylesheet" href="css/message.css"> <!-- Specific: message.css -->
        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>
<body>
    <!-- Reusing Header -->
    <header class="main-header">
        <div class="container">
            <a href="index.html" class="header-logo">
                <img src="images/PRATA logo.png" alt="PRATA Logo">
            </a>
             <nav class="header-nav">
                 <a href="wishlist.html" class="wishlist-icon" aria-label="Wishlist"><img src="images/iconamoon-heart-bold.svg" alt="Wishlist"></a>
                 <a href="profile.html" class="profile-icon" aria-label="Profile Menu"><div class="ellipse"></div></a>
             </nav>
        </div>
    </header>

    <main>
        <div class="confirmation-container">
            <div class="confirmation-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h1>Booking Confirmed!</h1>
            <p>Thank you for booking with PRATA Rentals. Your reservation details are below. A confirmation email has also been sent (simulation).</p>

            <div class="booking-summary-confirm">
                <h3>Your Booking Summary</h3>
                 <!-- Details will be populated by JS -->
                 <div class="summary-item">
                     <span>Property:</span>
                     <strong id="confirm-property-title">Loading...</strong>
                 </div>
                <div class="summary-item">
                    <span>Check-in:</span>
                    <strong id="confirm-checkin">-- / -- / ----</strong>
                </div>
                <div class="summary-item">
                    <span>Check-out:</span>
                    <strong id="confirm-checkout">-- / -- / ----</strong>
                </div>
                 <div class="summary-item">
                    <span>Total Nights:</span>
                    <strong id="confirm-nights">0</strong>
                </div>
                <div class="summary-item">
                    <span>Guests:</span>
                    <strong id="confirm-guests">1 Adult</strong>
                </div>
                 <div class="summary-item" style="margin-top: 15px; padding-top: 10px; border-top: 1px dashed #ccc;">
                    <span>Total Price:</span>
                    <strong id="confirm-total-price">NPR 0.00</strong>
                </div>
            </div>

            <div class="confirmation-actions">
                <a href="index.html" class="btn btn-primary">Back to Home</a>
                <a href="profile.html" class="btn btn-secondary">View My Bookings</a> <!-- Link to profile where bookings would show -->
            </div>
        </div>
    </main>

    <!-- Reusing Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                 <a href="about.html">About Us</a>
                 <a href="terms.html">Terms of Service</a>
                 <a href="contact.html">Contact Us</a>
                 <a href="help.html">Help Center</a>
                 <a href="become-host.html">For Landlords</a>
            </div>
             <div class="footer-social">
                 <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                 <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                 <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            </div>
            <div class="footer-copyright">
                Â© 2024 PRATA Rentals. All rights reserved.
            </div>
        </div>
     </footer>
    <script src="js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Retrieve booking details from sessionStorage (set by booking.js)
            const bookingData = JSON.parse(sessionStorage.getItem('prata_bookingDetails'));

            if (bookingData) {
                // Populate the summary details
                document.getElementById('confirm-property-title').textContent = bookingData.title || 'Selected Property';
                document.getElementById('confirm-checkin').textContent = bookingData.checkin || '-- / -- / ----';
                document.getElementById('confirm-checkout').textContent = bookingData.checkout || '-- / -- / ----';
                document.getElementById('confirm-nights').textContent = bookingData.nights || '0';
                document.getElementById('confirm-guests').textContent = bookingData.guests || '1 Adult';
                document.getElementById('confirm-total-price').textContent = bookingData.totalPrice || 'NPR 0.00';

                // Clear the data from storage after displaying it
                sessionStorage.removeItem('prata_bookingDetails');
            } else {
                // Handle case where data is missing (e.g., user navigated directly)
                const summaryConfirm = document.querySelector('.booking-summary-confirm');
                if (summaryConfirm) {
                     summaryConfirm.innerHTML = '<p style="text-align: center; color: red;">Could not retrieve booking details.</p>';
                }
                console.error('Booking details not found in sessionStorage.');
            }
        });
    </script>
</body>
</html>