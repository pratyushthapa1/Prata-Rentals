<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Your Wishlist - PRATA</title>
        <link rel="stylesheet" href="globals.css"> <!-- If you have this -->
        <link rel="stylesheet" href="css/common.css">
        <!-- Optionally add a wishlist.css if needed, or use common card styles -->
        <!-- <link rel="stylesheet" href="css/wishlist.css"> -->
        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>
<body>

    <!-- Reusing Header -->
    <header class="main-header">
        <div class="container">
            <a href="index.html" class="header-logo">
                <img src="images/PRATA logo.png" alt="PRATA Logo">
            </a>
            <nav class="header-nav">
                <a href="wishlist.html" class="wishlist-icon" aria-label="Wishlist">
                    <img src="images/iconamoon-heart-bold.svg" alt="Wishlist"> <!-- Maybe highlight this icon -->
                </a>
                <a href="profile.html" class="profile-icon" aria-label="Profile Menu">
                    <div class="ellipse"></div>
                </a>
            </nav>
        </div>
    </header>

    <main class="container">
        <h1 class="section-title alt-title">Your Wishlist</h1>

        <!-- Login Check Simulation -->
        <div id="login-prompt" style="display: none; text-align: center; padding: 30px; background-color: #fff; border-radius: 8px; margin-bottom: 30px;">
            <p>Please <a href="login.html" style="color: var(--primary-color); font-weight: bold;">log in</a> to view your wishlist.</p>
        </div>

        <div class="properties-grid" id="wishlist-grid">
            <!-- JS would dynamically populate this based on user's saved items -->
            <!-- Placeholder Content -->
            <p id="empty-wishlist-message" style="display: none; grid-column: 1 / -1; text-align: center; padding: 40px;">Your wishlist is empty. Start exploring and save properties you love!</p>

             <!-- Example Card (Repeat or remove based on JS) -->
             <a href="property.html?id=3" class="property-link">
                 <article class="property-card" data-property-id="3">
                     <div class="card-image-container">
                        <img src="images/card3.png.jpeg" alt="Luxury Villa Poolside" class="card-image">
                         <span class="card-tag">Luxury</span>
                          <div class="card-price">NPR 120,000/mo</div>
                          <!-- Add a remove button (handled by JS) -->
                          <button class="remove-wishlist-btn" data-property-id="3" aria-label="Remove from wishlist" style="position:absolute; top:10px; right: 10px; background: rgba(255,0,0,0.7); border: none; color: white; border-radius: 50%; width: 30px; height: 30px; font-size: 16px; cursor: pointer; line-height: 1;">×</button>
                     </div>
                     <div class="card-text-content">
                         <h3 class="card-title">Luxury Villa Now Renting</h3>
                         <p class="card-location"><i class="fas fa-map-marker-alt"></i> Patan</p>
                          <div class="card-features">
                             <span><i class="fas fa-bed"></i> 5 Beds</span>
                             <span><i class="fas fa-bath"></i> 4 Baths</span>
                             <span><i class="fas fa-swimmer"></i> Pool</span>
                        </div>
                     </div>
                 </article>
             </a>
            <!-- Add more placeholder cards -->
        </div>
    </main>

    <!-- Reusing Footer -->
   <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                 <a href="about.html">About Us</a>
                 <a href="terms.html">Terms of Service</a>
                 <a href="contact.html">Contact Us</a>
                 <a href="help.html">Help Center</a>
                 <a href="become-host.html">For Landlords</a>
            </div>
             <div class="footer-social">
                 <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                 <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                 <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            </div>
            <div class="footer-copyright">
                © 2024 PRATA Rentals. All rights reserved.
            </div>
        </div>
     </footer>

    <script src="js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Login Simulation ---
            const isLoggedIn = localStorage.getItem('prata_loggedIn') === 'true'; // Check login status
            const loginPrompt = document.getElementById('login-prompt');
            const wishlistGrid = document.getElementById('wishlist-grid');
            const emptyMsg = document.getElementById('empty-wishlist-message');

            if (!isLoggedIn) {
                if(loginPrompt) loginPrompt.style.display = 'block';
                if(wishlistGrid) wishlistGrid.style.display = 'none'; // Hide grid if not logged in
            } else {
                 if(loginPrompt) loginPrompt.style.display = 'none';
                 if(wishlistGrid) wishlistGrid.style.display = 'grid'; // Show grid

                 // --- Empty Wishlist Simulation ---
                 const hasItems = wishlistGrid.querySelector('.property-link');
                 if (!hasItems) {
                     if(emptyMsg) emptyMsg.style.display = 'block';
                 } else {
                     if(emptyMsg) emptyMsg.style.display = 'none';

                     // Add basic remove functionality simulation
                     wishlistGrid.addEventListener('click', (e) => {
                         if (e.target.classList.contains('remove-wishlist-btn')) {
                             e.preventDefault(); // Prevent link navigation
                             const cardLink = e.target.closest('.property-link');
                             if (cardLink) {
                                 alert(`Simulating removal of property ID: ${e.target.dataset.propertyId}`);
                                 cardLink.remove(); // Remove the card from the view

                                 // Check if wishlist is now empty
                                 if (!wishlistGrid.querySelector('.property-link')) {
                                    if(emptyMsg) emptyMsg.style.display = 'block';
                                 }
                             }
                         }
                     });
                 }
                 // --- End Empty Simulation ---
            }
            // --- End Login Simulation ---
        });
    </script>
</body>
</html>